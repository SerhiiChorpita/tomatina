<div class="main-block">
  <div class="d-flex justify-content-end">
    <a (click)="onNoClick()">âœ–</a>
  </div>
  <div class="text-center header">
    <h3>{{ !isLogin ? "Sign in" : "Sign up" }}</h3>
  </div>
  <ng-container *ngIf="!isLogin">
    <form
      [formGroup]="authForm"
      (submit)="isLogin ? registerUser() : loginUser()"
    >
      <div class="col-10 form-group">
        <mat-form-field appearance="outline" color="primary">
          <mat-label>email</mat-label>
          <input matInput type="email" formControlName="email" />
        </mat-form-field>
      </div>
      <div class="col-10 form-group">
        <mat-form-field appearance="outline" color="primary">
          <mat-label>password</mat-label>
          <input
            matInput
            type="password"
            formControlName="password"
            autocomplete="off"
          />
        </mat-form-field>
      </div>
      <button
        class="col-10 btn-submit mb-2"
        *ngIf="!isLogin"
        mat-raised-button
        color="primary"
        type="submit"
      >
        LOGIN
      </button>
      <button
        class="col-10 btn-submit mb-2"
        *ngIf="isLogin"
        mat-raised-button
        color="primary"
        type="submit"
      >
        SIGN UP
      </button>
      <a class="txt2" (click)="changeIsLogin()">
        {{ !isLogin ? "Sign up" : "Already registered? Sign in" }}</a
      >
    </form>
  </ng-container>

  <ng-container *ngIf="isLogin">
    <form [formGroup]="registrForm">
      <div class="form-group row col-10 d-flex justify-content-between">
        <div class="col-6 inp-left">
          <mat-form-field
            class="mat-form-field2"
            appearance="outline"
            color="primary"
          >
            <mat-label>First name</mat-label>
            <input matInput type="text" formControlName="firstName" />
          </mat-form-field>
        </div>
        <div class="col-6 inp-right">
          <mat-form-field
            class="mat-form-field2"
            appearance="outline"
            color="primary"
          >
            <mat-label>Last name</mat-label>
            <input matInput type="text" formControlName="lastName" />
          </mat-form-field>
        </div>
      </div>
      <div class="form-group col-10">
        <mat-form-field appearance="outline" color="primary">
          <mat-label>Phone number</mat-label>
          <input
            matInput
            type="tel"
            formControlName="phoneNumber"
            autocomplete="on"
          />
        </mat-form-field>
      </div>
      <div class="form-group col-10">
        <mat-form-field appearance="outline" color="primary">
          <mat-label>Email</mat-label>
          <input
            matInput
            type="email"
            formControlName="email"
            autocomplete="on"
          />
        </mat-form-field>
      </div>
      <div class="form-group row col-10 d-flex justify-content-between">
        <div class="col-6 inp-left">
          <mat-form-field
            class="mat-form-field2"
            appearance="outline"
            color="primary"
          >
            <mat-label>Password</mat-label>
            <input
              matInput
              type="password"
              formControlName="password"
              autocomplete="off"
            />
          </mat-form-field>
        </div>
        <div class="col-6 inp-right">
          <mat-form-field
            class="mat-form-field2"
            appearance="outline"
            color="primary"
          >
            <mat-label>Repeat password</mat-label>
            <input
              matInput
              type="password"
              formControlName="passwordRepeat"
              autocomplete="off"
              (input)="chekConfirmedPassword()"
            />
          </mat-form-field>
          <mat-error
            *ngIf="checkVisibilityError('passwordRepeat', 'matchError')"
            >Confirmed password is required</mat-error
          >
        </div>
      </div>
      <button
        class="col-10 btn-submit mb-2"
        *ngIf="!isLogin"
        mat-raised-button
        color="primary"
        type="button"
        (click)="loginUser()"
      >
        LOGIN
      </button>
      <button
        class="col-10 btn-submit mb-2"
        *ngIf="isLogin"
        mat-raised-button
        color="primary"
        type="button"
        (click)="registerUser()"
        [disabled]="!registrForm.valid"
      >
        SIGN UP
      </button>
      <a class="txt2" (click)="changeIsLogin()">
        {{ !isLogin ? "Sign up" : "Already registered? Sign in" }}</a
      >
    </form>
  </ng-container>
</div>
